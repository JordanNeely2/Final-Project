#!/usr/bin/env python3

"""
options:
    --vis
        force printing board to command line
    
    --no-vis
        only output board to board.txt
"""

import reversi as rv
import sys


game = rv.Reversi()

showBoard = game.printBoard

visible = True

if len(sys.argv) > 1:
    if "--vis" in sys.argv:
        visible = True
    elif "--no-vis" in sys.argv:
        visible = False
        showBoard = game.writeBoard

game.findValidMoves()
showBoard(playable=True)
game.printPlayer()


#game loop
while (not game.finished):
    
    move = game.getMove()
    while not game.playMove(move):
            move = game.getMove()
            

    game.changePlayer()

    game.findValidMoves()
    showBoard(playable=True)
    
    if visible:
        game.printScore()
        game.printPlayer()

if visible:
    game.printScore()
